<template name="userSettings">
    <div class="container">
        <h1>Edit Profile</h1>
        <hr>
        <div class="row">
            <div class="col-md-3 personal-photo">
                <div class="text-center">
                    <img src="{{#if user.profile.profileImage}}{{user.profile.profileImage}}{{else}}//placehold.it/100{{/if}}" style="width: 200px; height: 200px;" class="avatar img-circle" alt="avatar">
                    <h6 class="text-left">Upload a different photo...</h6>
                    <input type="file" class="form-control" id="userProfilePicture">
                </div>
            </div>
            <div class="col-md-9 personal-info">
                <h3>Personal info</h3>

                <form class="form-horizontal" role="form" id="mainForm">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">First name:</label>
                        <div class="col-lg-8">
                            <input class="form-control " type="text" value="{{user.profile.name}}" name="name" disabled="{{loading}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Last name:</label>
                        <div class="col-lg-8">
                            <input class="form-control " type="text" value="{{user.profile.surname}}" name="surname" disabled="{{loading}}">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Birthday:</label>
                        <div class="col-lg-8">
                            <input name="birthday" placeholder="Your birthday" class="form-control reg" type="text" id="birthdayPicker" value="{{userBirthday}}" disabled="{{loading}}"
                                required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Occupation:</label>
                        <div class="col-lg-8">
                            <input class="form-control" type="text" value="{{user.profile.occupation}}" name="occupation" disabled="{{loading}}">
                        </div>
                    </div>
                    <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "register.gender"}}</label>
                            <div class="col-md-8 selectContainer">
                                <div class="input-group">
                                    <select name="sex" class="form-control selectpicker">
                                        <option value="male">{{_ "register.male"}}</option>
                                        <option value="female">{{_ "register.female"}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label"></label>
                        <div class="col-md-8 text-right">
                            {{#if loading}}
                                <div class="row">
                                    {{> loader}}
                                </div>
                            {{/if}}
                            <input type="submit" class="btn btn-info" value="Save changes" disabled="{{loading}}">
                            <span></span>
                            <!-- <input type="reset" class="btn btn-default" value="Cancel"> -->
                        </div>
                    </div>
                </form>
                <hr>
                <form class="form-horizontal" role="form" id="emailForm">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Change email address:</label>
                        <div class="col-lg-8">
                            <input class="form-control reg" type="text" value="{{user.emails.[0].address}}" name="email" disabled="{{loading}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label"></label>
                        <div class="col-md-8 text-right" >
                            <input type="submit" class="btn btn-info" value="Change email" disabled="{{loading}}">
                            <span></span>
                            <!-- <input type="reset" class="btn btn-default" value="Cancel"> -->
                        </div>
                    </div>
                </form>
                <hr>
                <form class="form-horizontal" role="form" id="usernameForm">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Change your username:</label>
                        <div class="col-lg-8">
                            <input class="form-control reg" type="text" value="{{user.username}}" name="username" disabled="{{loading}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label"></label>
                        <div class="col-md-8 text-right">
                            <input type="submit" class="btn btn-info" value="Change username" disabled="{{loading}}">
                            <span></span>
                            <!-- <input type="reset" class="btn btn-default " value="Cancel"> -->
                        </div>
                    </div>
                </form>
                <hr>
                <div>
                    <h3>Want to reset your password?</h3>
                    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#passResetModal">Yes, please!</button>
                        <div class="modal fade" id="passResetModal" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Hey, are you sure?</h4>
                                    </div>
                                    <div class="modal-body">
                                        <p>A link for password reset will be sent to your email address.</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                        <button type="button" id="resetPassword" class="btn btn-info js-passwordReset" data-dismiss="modal">RESET</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
                <hr> {{#unless user.emails.[0].verified}}
                <div>
                    <h3>Your email is not verified!</h3>
                    <h4>Please, visit check your inobx.</h4>
                    <p>Send verification email again?</p>
                    <button type="button" class="btn btn-default verifyButton">Yeah!</button>
                </div>
                {{/unless}}
            </div>
        </div>
    </div>
    <hr>
</template>